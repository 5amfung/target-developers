{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/sdk/supported-features/audience-targeting.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"oTAQaA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,sBADR,uBAGA,mIACA,uBACE,kBAAOC,WAAW,UAChB,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,MADX,kBAGA,eAAIA,WAAW,KACb,MAAS,MADX,4BAKJ,kBAAOA,WAAW,UAChB,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,iHADT,OAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,SAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,qHADT,WAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,QAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,oHADT,UAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,QAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,+HADT,qBAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,SAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,8HADT,oBAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,SAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,wHADT,cAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,SAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,qHADT,WAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,SAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,6HADT,mBAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,QAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,6HADT,mBAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,QAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,wHADT,cAFH,oBAKA,eAAIA,WAAW,KACb,MAAS,MADX,SAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,cAAGA,WAAW,KACb,KAAQ,2EADT,8BAFH,0GAKA,eAAIA,WAAW,KACb,MAAS,MADX,UAMN,eACE,GAAM,2CADR,4CAGA,gMAAiL,uBAAYA,WAAW,KAAvB,aAAjL,6BAAmQ,uBAAYA,WAAW,KAAvB,OAAnQ,mBAAqU,uBAAYA,WAAW,KAAvB,WAArU,qSAA6pB,uBAAYA,WAAW,KAAvB,sBAA7pB,MACA,mBAAG,mBAAQA,WAAW,KAAnB,aACH,qBAAK,iBAAMA,WAAW,OAAjB,kiBAyBL,mBAAG,mBAAQA,WAAW,KAAnB,UACH,qBAAK,iBAAMA,WAAW,OAAjB,qpBAqBL,mKAAoJ,uBAAYA,WAAW,KAAvB,aAApJ,oLAA6X,uBAAYA,WAAW,KAAvB,aAA7X,sDAAwe,uBAAYA,WAAW,KAAvB,aAAxe,+FAA4nB,uBAAYA,WAAW,KAAvB,aAA5nB,kBAAmsB,uBAAYA,WAAW,KAAvB,OAAnsB,mBAAqwB,uBAAYA,WAAW,KAAvB,WAArwB,yIAAi8B,uBAAYA,WAAW,KAAvB,aAAj8B,0FACA,mBAAG,mBAAQA,WAAW,KAAnB,aACH,qBAAK,iBAAMA,WAAW,OAAjB,uZAqBL,mBAAG,mBAAQA,WAAW,KAAnB,UACH,qBAAK,iBAAMA,WAAW,OAAjB,yXAiBTJ,EAAWK,gBAAiB","file":"component---src-pages-sdk-supported-features-audience-targeting-md-60e3c38245e53731822a.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/target-developers/target-developers/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"audience-targeting\"\n    }}>{`Audience targeting`}</h1>\n    <p>{`The following table indicates which audience rules are supported or not supported for on-device decisioning.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Audience Rule`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`On-device Decisioning`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/geo.html\"\n            }}>{`Geo`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/network.html\"\n            }}>{`Network`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/mobile.html\"\n            }}>{`Mobile`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/custom-parameters.html\"\n            }}>{`Custom Parameters`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/operating-system.html\"\n            }}>{`Operating System`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/site-pages.html\"\n            }}>{`Site Pages`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/browser.html\"\n            }}>{`Browser`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/visitor-profile.html\"\n            }}>{`Visitor Profile`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/traffic-sources.html\"\n            }}>{`Traffic Sources`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/time-frame.html\"\n            }}>{`Time Frame`}</a>{`{target=_blank}`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/integrate/mmp.html\"\n            }}>{`Experience Cloud Audiences`}</a>{`{target=_blank} (Audiences from Adobe Audience Manager, Adobe Analytics, and Adobe Experience Manager`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"geo-targeting-for-on-device-decisioning\"\n    }}>{`Geo targeting for on-device decisioning`}</h2>\n    <p>{`In order to maintain near-zero latency for on-device decisioning activities with geo-based audiences, Adobe recommends you provide the geo values yourself in the call to `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{`. Do this by setting the `}<inlineCode parentName=\"p\">{`Geo`}</inlineCode>{` object in the `}<inlineCode parentName=\"p\">{`Context`}</inlineCode>{` of the request. This means your server will need a way to determine the location of each end user. For example, your server may perform an IP-to-Geo lookup, using a service you configure. Some hosting providers, such as Google Cloud, provide this functionality via custom headers in each `}<inlineCode parentName=\"p\">{`HttpServletRequest`}</inlineCode>{`.`}</p>\n    <p><strong parentName=\"p\">{`Node.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`const CONFIG = {\n    client: \"acmeclient\",\n    organizationId: \"1234567890@AdobeOrg\",\n    decisioningMethod: \"on-device\"\n};\n\nconst targetClient = TargetClient.create(CONFIG);\n\ntargetClient.getOffers({\n    request: {\n        context: {\n            geo: {\n                city: \"SAN FRANCISCO\",\n                countryCode: \"US\",\n                stateCode: \"CA\",\n                latitude: 37.75,\n                longitude: -122.4\n            }\n        },\n        execute: {\n            pageLoad: {}\n        }\n    }\n})\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Java`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`public class TargetRequestUtils {\n\n    public static Context getContext(HttpServletRequest request) {\n        Context context = new Context()\n            .geo(ipToGeoLookup(request.getRemoteAddr()))\n            .channel(ChannelType.WEB)\n            .timeOffsetInMinutes(330.0)\n            .address(getAddress(request));\n        return context;\n    }\n\n    public static Geo ipToGeoLookup(String ip) {\n        GeoResult geoResult = geoLookupService.lookup(ip);\n        return new Geo()\n            .city(geoResult.getCity())\n            .stateCode(geoResult.getStateCode())\n            .countryCode(geoResult.getCountryCode());\n    }\n\n}\n`}</code></pre>\n    <p>{`However, if you do not have the ability to perform IP-to-Geo lookups on your server, but you still want to perform on-device decisioning for `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{` requests that contain geo-based audiences, this is also supported. The downside of this approach is that it will use a remote IP-to-Geo lookup, which will add latency to each `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{` call. This latency should be lower than a remote `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{` call, since it hits a CDN that is located close to your server. You must only provide the `}<inlineCode parentName=\"p\">{`ipAddress`}</inlineCode>{` field in the `}<inlineCode parentName=\"p\">{`Geo`}</inlineCode>{` object in the `}<inlineCode parentName=\"p\">{`Context`}</inlineCode>{` of your request, in order for the SDK to retrieve the geo-location of your user's IP address. If any other field in addition to the `}<inlineCode parentName=\"p\">{`ipAddress`}</inlineCode>{` is provided, the Target SDK will not fetch the geo-location metadata for resolution.`}</p>\n    <p><strong parentName=\"p\">{`Node.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`const CONFIG = {\n    client: \"acmeclient\",\n    organizationId: \"1234567890@AdobeOrg\",\n    decisioningMethod: \"on-device\"\n};\n\nconst targetClient = TargetClient.create(CONFIG);\n\ntargetClient.getOffers({\n    request: {\n        context: {\n            geo: {\n                ipAddress: \"127.0.0.1\"\n            }\n        },\n        execute: {\n            pageLoad: {}\n        }\n    }\n})\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Java`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`public class TargetRequestUtils {\n\n    public static Context getContext(HttpServletRequest request) {\n        Context context = new Context()\n            .geo(new Geo().ipAddress(request.getRemoteAddr()))\n            .channel(ChannelType.WEB)\n            .timeOffsetInMinutes(330.0)\n            .address(getAddress(request));\n        return context;\n    }\n\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}