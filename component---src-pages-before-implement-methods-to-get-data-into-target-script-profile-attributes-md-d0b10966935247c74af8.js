(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[4964],{95720:function(e,t,i){"use strict";i.r(t),i.d(t,{_frontmatter:function(){return l},default:function(){return d}});var a=i(22122),r=i(19756),n=(i(15007),i(64983)),s=i(99536),o=["components"],l={},m={_frontmatter:l},u=s.Z;function d(e){var t=e.components,i=(0,r.Z)(e,o);return(0,n.mdx)(u,(0,a.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,n.mdx)("h1",{id:"script-profile-attributes"},"Script profile attributes"),(0,n.mdx)("p",null,"Script profile attributes are name/value pairs defined in the Adobe Target solution. The value is determined from executing a JavaScript snippet on Target's server per server call."),(0,n.mdx)("p",null,"Users write small code snippets that execute per mbox call, and before a visitor is evaluated for audience and activity membership."),(0,n.mdx)("h2",{id:"format"},"Format"),(0,n.mdx)("p",null,'Script profile attributes are created in the Audiences section of Target. Any attribute name is valid, and the value is the result of a JavaScript function written by the Target user. The attribute name is automatically prefixed by " user. " in Target to distinguish them from in-page profile attributes.'),(0,n.mdx)("p",null,"The code snippet is written in the Rhino JS language and can reference tokens and other values."),(0,n.mdx)("h2",{id:"example-use-cases"},"Example Use Cases"),(0,n.mdx)("ul",null,(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("strong",{parentName:"li"},"Cart Abandonment"),": When the visitor reaches the shopping cart, set the profile script to 1. When the visitor converts, reset it to 0. If the value =1, then the visitor has an item in the cart."),(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("strong",{parentName:"li"},"Visit Count"),": On every new visit, increment the count by 1 to keep track of how often a visitor returns to the site.")),(0,n.mdx)("h2",{id:"benefits-of-method"},"Benefits of method"),(0,n.mdx)("p",null,"Requires no page code updates."),(0,n.mdx)("p",null,"Executes before audience and activity membership decisions, so these profile script attributes can affect membership on a single server call."),(0,n.mdx)("p",null,"Can be very robust. As many as 2,000 instructions can be executed per script."),(0,n.mdx)("h2",{id:"caveats"},"Caveats"),(0,n.mdx)("p",null,"Requires JavaScript knowledge."),(0,n.mdx)("p",null,"The execution order of profile scripts cannot be guaranteed, so they cannot rely on each other."),(0,n.mdx)("p",null,"Can be difficult to debug."),(0,n.mdx)("h2",{id:"code-examples"},"Code examples"),(0,n.mdx)("p",null,"Profile scripts are quite flexible:"),(0,n.mdx)("p",null,(0,n.mdx)("inlineCode",{parentName:"p"},"user.purchase_recency: var dayInMillis = 3600 * 24 * 1000; if (mbox.name == 'orderThankyouPage') {  user.setLocal('lastPurchaseTime', new Date().getTime()); } var lastPurchaseTime = user.getLocal('lastPurchaseTime'); if (lastPurchaseTime) {  return ((new Date()).getTime()-lastPurchaseTime)/dayInMillis; }")),(0,n.mdx)("h3",{id:"links-to-relevant-information"},"Links to relevant information"),(0,n.mdx)("p",null,(0,n.mdx)("a",{parentName:"p",href:"/target-developers/help/main/c-target/c-visitor-profile/profile-parameters.md#concept_8C07AEAB0A144FECA8B4FEB091AED4D2"},"Profile Script Attributes")))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-before-implement-methods-to-get-data-into-target-script-profile-attributes-md-d0b10966935247c74af8.js.map