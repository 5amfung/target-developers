{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/implement/client-side/atjs-functions/atjs-custom-events.md"],"names":["name","_frontmatter","Media","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","slots","isMDXComponent"],"mappings":"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","file":"component---src-pages-implement-client-side-atjs-functions-atjs-custom-events-md-5fe140cc0522d8c37600.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/target-developers/target-developers/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Media = makeShortcode(\"Media\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"atjs-custom-events\"\n    }}>{`at.js custom events`}</h1>\n    <p>{`Information about `}<inlineCode parentName=\"p\">{`at.js custom events`}</inlineCode>{`, which lets you know when an mbox request or offer fails or succeeds.`}</p>\n    <p>{`Historically, mbox.js (now deprecated) didn't let other JavaScript code that runs on the page know what happens behind the scenes. With the advancement of at.js, we had a unique opportunity to fix this issue.`}</p>\n    <p>{`According to our customers there are several scenarios that they would like to be notified of, including:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`An mbox request failed due to timeout, wrong status code, JSON parse error, etc. `}</li>\n      <li parentName=\"ul\">{`An mbox request succeeded. `}</li>\n      <li parentName=\"ul\">{`Offer rendering failed due to wrapping mbox element missing, selector can not be found, etc. `}</li>\n      <li parentName=\"ul\">{`Offer rendering succeeded. DOM changes have been applied.`}</li>\n    </ul>\n    <p>{`Pre-defined events have a structure that allows you to extract the required data, based on event type.`}</p>\n    <p>{`To make sure that events can be used in different scenarios, the custom events have a payload object that is assigned to the detail property of the event object (that is passed to the handler). Also to avoid passing strings as event names, the events are exposed as constants using `}<inlineCode parentName=\"p\">{`adobe.target.event`}</inlineCode>{` namespace.`}</p>\n    <h2 {...{\n      \"id\": \"structure-section_0e5c9a13de234a5daecbcbf9f23f94fe\"\n    }}>{`Structure {#section_0E5C9A13DE234A5DAECBCBF9F23F94FE}`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Key`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`type`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`There are several scenarios in which you would like to be notified to help in tracing, debugging, and customizing interaction with at.js.`}<br />{`Each custom event listed below has two formats: a \"constant\" and a \"string value.\"`}<ul><li><strong parentName=\"td\">{`Constants`}</strong>{`: Prepended with `}<inlineCode parentName=\"td\">{`adobe.target.event.`}</inlineCode>{`, presented in all caps, and contain underscore characters. To subscribe to custom events `}<em parentName=\"td\">{`after`}</em>{` at.js loads but `}<em parentName=\"td\">{`before`}</em>{` the mbox response has been received, use the constant.`}</li><li><strong parentName=\"td\">{`String Values`}</strong>{`: Lowercase and contain dashes. To subscribe to custom events `}<em parentName=\"td\">{`before`}</em>{` at.js loads, use the string value.`}</li></ul><strong parentName=\"td\">{`Request Failed`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.REQUEST_FAILED`}</inlineCode><br />{`String value: `}<inlineCode parentName=\"td\">{`at-request-failed`}</inlineCode><br />{`Description: An mbox request failed due to timeout, wrong status code, JSON parse error, etc.`}<br /><strong parentName=\"td\">{`Request Succeeded`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.REQUEST_SUCCEEDED`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-request-succeeded`}</inlineCode><br />{`Description: An mbox request was successful.`}<br /><strong parentName=\"td\">{`Content Rendering Failed`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.CONTENT_RENDERING_FAILED`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-content-rendering-failed`}</inlineCode><br />{`Description: Offer rendering failed due to wrapping mbox element missing, selector can not be found, etc.`}<br /><strong parentName=\"td\">{`Content Rendering Succeeded`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.CONTENT_RENDERING_SUCCEEDED`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-content-rendering-succeeded`}</inlineCode><br />{`Description: Offer rendering was successful. DOM changes have been applied.`}<br /><strong parentName=\"td\">{`Library Loaded`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.LIBRARY_LOADED`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-library-loaded`}</inlineCode><br />{`Description: This event is ideal to track when at.js has been fully loaded. You can use this event to customize global mbox execution. You can also use this event to disable the global mbox and then listen for this event to fire the global mbox later.`}<br /><strong parentName=\"td\">{`Request Start`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.REQUEST_START`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-request-start`}</inlineCode><br />{`Description: This event is fired before an HTTP request is executed. You can use this event for performance measurements using the Resource Timing API.`}<br /><strong parentName=\"td\">{`Content Rendering Start`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.CONTENT_RENDERING_START`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-content-rendering-start`}</inlineCode><br />{`Description: This event is fired before selector polling is started and content is rendered to the page. You can use this event to track the content rendering progress.`}<br /><strong parentName=\"td\">{`Content Rendering No Offers`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.CONTENT_RENDERING_NO_OFFERS`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-content-rendering-no-offers`}</inlineCode><br />{`Description: This event is fired when there are no offers returned.`}<br /><strong parentName=\"td\">{`Content Rendering Redirect`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.CONTENT_RENDERING_REDIRECT`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`at-content-rendering-redirect`}</inlineCode><br />{`Description: This event is fired when an offer is a redirect and Target will redirect to a different URL.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`mbox`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`mbox name`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`message`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Contains human-readable description, such as what happened, the error message, etc.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`tracking`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Object`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Contains the `}<inlineCode parentName=\"td\">{`sessionId`}</inlineCode>{` and `}<inlineCode parentName=\"td\">{`deviceId`}</inlineCode>{`. In some cases, `}<inlineCode parentName=\"td\">{`deviceId`}</inlineCode>{` could be missing because Target couldn't retrieve it from edge server.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`type`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`On-device decisioning artifact succeeded`}</strong><br />{`Constant:`}<br /><inlineCode parentName=\"td\">{`adobe.target.event.ARTIFACT_DOWNLOAD_SUCCEEDED`}</inlineCode><br />{`String value: `}<inlineCode parentName=\"td\">{`artifactDownloadSucceeded`}</inlineCode><br />{`Description: Called when the on-device decisioning artifact is successfully downloaded.`}<br /><strong parentName=\"td\">{`On-device decisioning artifact failed`}</strong><br />{`Constant: `}<inlineCode parentName=\"td\">{`adobe.target.event.ARTIFACT_DOWNLOAD_FAILED`}</inlineCode><br />{`String Value: `}<inlineCode parentName=\"td\">{`artifactDownloadFailed`}</inlineCode><br />{`Description: Called when the on-device decisioning artifact failed to download.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function(event) { \n  console.log('Event', event); \n});\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"training-video-response-tokens-and-the-atjs-custom-events---------------------------------------------------\"\n    }}>{`Training Video: Response Tokens and the at.js Custom Events `}<span parentName=\"h2\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"81px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"29.629629629629626%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/target-developers/static/7a3b2bbd7268a898dfde4fc0d1329d0e/66274/tutorial.webp 81w\"],\n            \"sizes\": \"(max-width: 81px) 100vw, 81px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/target-developers/static/7a3b2bbd7268a898dfde4fc0d1329d0e/11ef0/tutorial.png 81w\"],\n            \"sizes\": \"(max-width: 81px) 100vw, 81px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/target-developers/static/7a3b2bbd7268a898dfde4fc0d1329d0e/11ef0/tutorial.png\",\n            \"alt\": \"Tutorial badge\",\n            \"title\": \"Tutorial badge\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></h2>\n    <p>{`Watch the following video to learn how to use Response Tokens and at.js Custom Events to share profile information from Target to third-party systems.`}</p>\n    <Media slots=\"video\" mdxType=\"Media\" />\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://video.tv.adobe.com/v/23253/\"\n      }}>{`https://video.tv.adobe.com/v/23253/`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}