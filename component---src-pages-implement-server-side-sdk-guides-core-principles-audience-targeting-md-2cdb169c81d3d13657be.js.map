{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/implement/server-side/sdk-guides/core-principles/audience-targeting.md"],"names":["name","_frontmatter","CodeBlock","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","slots","repeat","languages","isMDXComponent"],"mappings":"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","file":"component---src-pages-implement-server-side-sdk-guides-core-principles-audience-targeting-md-2cdb169c81d3d13657be.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/target-developers/target-developers/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst CodeBlock = makeShortcode(\"CodeBlock\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"audience-targeting\"\n    }}>{`Audience targeting`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`Audiences can be used to target your experimentation and personalization activities. Adobe Target supports myriad powerful audience targeting capabilities out of the box. The following attributes are available for `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/create-audience.html\"\n      }}>{`audience targeting`}</a>{`:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Rule`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Attributes`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/target-library.html\"\n            }}>{`Target Library`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}></td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`Referred from Bing\nChrome Browser\nFirefox Browser\nReferred from Google\nInternet Explorer\nLinux Operating System\nMac OS Operating System\nNew Visitors\nReturning Visitors\nSafari Browser\nTablet Device\nWindows Operating System\nReferred from Yahoo|\n|`}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/geo.html\"\n      }}>{`Geo`}</a>{`|\nCountry/Region\nState\nCity\nZip Code\nLatitude\nLongitude\nDMA\nMobile Carrier|\n|`}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/network.html\"\n      }}>{`Network`}</a>{`|`}<em parentName=\"p\">{` ISP\nDomain Name\nConnection Speed|\n|`}<a parentName=\"em\" {...{\n          \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/mobile.html\"\n        }}>{`Mobile`}</a>{`|Device Marketing Name\nDevice Model\nDevice Vendor\nIs Mobile Device\nIs Mobile Phone\nIs Tablet\nOS\nScreen Height (px)\nScreen Width (px)|\n|`}<a parentName=\"em\" {...{\n          \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/custom-parameters.html\"\n        }}>{`Custom parameters`}</a>{`|`}</em>{`any key / value pair`}<em parentName=\"p\">{`|\n|`}<a parentName=\"em\" {...{\n          \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/operating-system.html\"\n        }}>{`Operating System`}</a>{`|`}</em>{` Linux\nMacintosh\nWindows|\n|`}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/site-pages.html\"\n      }}>{`Site pages`}</a>{`|`}<em parentName=\"p\">{` Current Page\nPrevious Page\nLanding Page\nHTTP Header|\n|`}<a parentName=\"em\" {...{\n          \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/browser.html\"\n        }}>{`Browser`}</a>{`|`}</em>{` Type\nLanguage\nVersion|\n|`}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/visitor-profile.html\"\n      }}>{`Visitor Profile`}</a>{`|`}<em parentName=\"p\">{`any key / value pair, which is persisted`}</em>{`|\n|`}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/traffic-sources.html\"\n      }}>{`Traffic Sources`}</a>{`|* From Baidu\nFrom Bing\nFrom Google\nFrom Yahoo\nReferring Landing Page: URL\nReferring Landing Page: Domain\nReferring Landing Page: Query|\n|`}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/time-frame.html\"\n      }}>{`Time Frame`}</a>{`|Start Date / End Date|`}</p>\n    {\n      /*### Target Library\n      For more information, see [Target Library](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/target-library.html).\n      ​\n      * Referred from Bing\n      * Chrome Browser\n      * Firefox Browser\n      * Referred from Google\n      * Internet Explorer\n      * Linux Operating System\n      * Mac OS Operating System\n      * New Visitors\n      * Returning Visitors\n      * Safari Browser\n      * Tablet Device\n      * Windows Operating System\n      * Referred from Yahoo\n      ### Geo\n      For more information, see [Geo](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/geo.html).\n      ​​\n      * Country/Region\n      * State\n      * City\n      * Zip Code\n      * Latitude\n      * Longitude\n      * DMA\n      * Mobile Carrier\n      ### Network\n      For more information, see [Network](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/network.html).\n      * ISP\n      * Domain Name\n      * Connection Speed\n      ### Mobile\n      For more information, see [Mobile](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/mobile.html).\n      * Device Marketing Name\n      * Device Model\n      * Device Vendor\n      * Is Mobile Device\n      * Is Mobile Phone\n      * Is Tablet\n      * OS\n      * Screen Height (px)\n      * Screen Width (px)\n      ### Custom\n      For more information, see [Custom parameters](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/custom-parameters.html).\n      * any key / value pair\n      ### Operating system\n      For more information, see [Operating System](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/operating-system.html).\n      * Linux\n      * Macintosh\n      * Windows\n      ### Site pages\n      For more information, see [Site pages](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/site-pages.html).\n      * Current Page\n      * Previous Page\n      * Landing Page\n      * HTTP Header\n      ### Browser\n      For more information, see [Browser](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/browser.html).\n      * Type\n      * Language\n      * Version\n      ### Visitor Profile\n      For more information, see [Visitor Profile](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/visitor-profile.html). \n      * any key / value pair, which is persisted\n      ### Traffic Sources\n      For more information, see [Traffic Sources](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/traffic-sources.html).\n      * From Baidu\n      * From Bing\n      * From Google\n      * From Yahoo\n      * Referring Landing Page: URL\n      * Referring Landing Page: Domain\n      * Referring Landing Page: Query\n      ### Time Frame\n      For more information, see [Time Frame](https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/time-frame.html).\n      * Start Date / End Date\n      */\n    }\n    <h2 {...{\n      \"id\": \"client-hints\"\n    }}>{`Client Hints`}</h2>\n    <p>{`Adobe Target requires Client Hints for correct segmentation of Browser, Operating System, and Mobile audience attributes, as well as certain instances of Profile Scripts. For more information, see `}<a parentName=\"p\" {...{\n        \"href\": \"../core-principles/audience-targeting.md\"\n      }}>{`User Agent and Client Hints`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"how-to-pass-client-hints-to-adobe-target\"\n    }}>{`How to Pass Client Hints to Adobe Target`}</h3>\n    <p>{`Starting with Node.js SDK v2.4.0 and Java SDK v2.3.0, Client Hints can be sent to Target via `}<inlineCode parentName=\"p\">{`getOffers()`}</inlineCode>{` calls. Client Hints should be included on the `}<inlineCode parentName=\"p\">{`request.context`}</inlineCode>{` object, along with User Agent.`}</p>\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"js, JAVA\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"nodejs-sdk\"\n    }}>{`Node.js SDK`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`targetClient.getOffers({ \n\n    request: { \n\n        context: { \n\n            channel: \"mobile\" \n\n            userAgent: \"Mozilla/5.0 (Linux; Android 12; Pixel 4a) AppleWebKit/537.36 (KHTML, like Gecko) Mobile Safari/537.36\", \n\n            clientHints: { \n\n                mobile: \"true\", \n\n                platform: \"Linux\", \n\n                platformVersion: \"12.1\", \n\n                model: \"Pixel 4a\", \n\n                browserUAWithMajorVersion: \"\\\\\"Not A;Brand\\\\\";v=\\\\\"98\\\\\", \\\\\"Chromium\\\\\";v=\\\\\"98\\\\\", \\\\\"Google Chrome\\\\\";v=\\\\\"98\\\\\"\", \n\n                browserUAWithFullVersion: \"\\\\\" Not A;Brand\\\\\";v=\\\\\"98.0.0.0\\\\\", \\\\\"Chromium\\\\\";v=\\\\\"98.0.4844.83\\\\\", \\\\\"Google Chrome\\\\\";v=\\\\\"98.0.4758.101\\\\\"\", \n\n                bitness: \"64\", \n\n                architecture: \"x86\" \n\n            } \n\n        }, \n\n        execute: { \n\n            mboxes: [{ \n\n                name: \"home\", \n\n                index: 1 \n\n            }] \n\n        } \n\n    } \n\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"java-sdk\"\n    }}>{`Java SDK`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`import com.adobe.target.delivery.v1.model.ClientHints; \n\nimport com.adobe.target.delivery.v1.model.Context; \n\nimport com.adobe.target.delivery.v1.model.ExecuteRequest; \n\nimport com.adobe.target.edge.client.model.TargetDeliveryRequest; \n\n  \n\nClientHints clientHints = new ClientHints(); \n\nclientHints.setMobile(true); \n\nclientHints.setPlatform(\"macOS\"); \n\nclientHints.setArchitecture(\"x86\"); \n\nclientHints.setPlatformVersion(\"11.3.1\"); \n\nclientHints.setBrowserUAWithMajorVersion( \n\n  \"\\\\\" Not A;Brand\\\\\";v=\\\\\"99\\\\\", \\\\\"Chromium\\\\\";v=\\\\\"99\\\\\", \\\\\"Google Chrome\\\\\";v=\\\\\"99\\\\\"\"); \n\nString userAgent = \n\n  \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Safari/537.36\"; \n\n   \n\nTargetDeliveryRequest request = TargetDeliveryRequest.builder() \n\n        .execute(new ExecuteRequest().pageLoad(pageLoad)) \n\n        .context(new Context().clientHints(clientHints).userAgent(userAgent)) \n\n        .build(); \n`}</code></pre>\n    <h2 {...{\n      \"id\": \"on-device-decisioning\"\n    }}>{`On-device decisioning`}</h2>\n    <p>{`The following table indicates which audience rules are supported or not supported for on-device decisioning.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Audience Rule`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`On-device Decisioning`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/geo.html\"\n            }}>{`Geo`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/network.html\"\n            }}>{`Network`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/mobile.html\"\n            }}>{`Mobile`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/custom-parameters.html\"\n            }}>{`Custom Parameters`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/operating-system.html\"\n            }}>{`Operating System`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/site-pages.html\"\n            }}>{`Site Pages`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/browser.html\"\n            }}>{`Browser`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/visitor-profile.html\"\n            }}>{`Visitor Profile`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/traffic-sources.html\"\n            }}>{`Traffic Sources`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/time-frame.html\"\n            }}>{`Time Frame`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/integrate/mmp.html\"\n            }}>{`Experience Cloud Audiences`}</a>{` (Audiences from Adobe Audience Manager, Adobe Analytics, and Adobe Experience Manager`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"geo-targeting-for-on-device-decisioning\"\n    }}>{`Geo targeting for on-device decisioning`}</h3>\n    <p>{`In order to maintain near-zero latency for on-device decisioning activities with geo-based audiences, Adobe recommends you provide the geo values yourself in the call to `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{`. Do this by setting the `}<inlineCode parentName=\"p\">{`Geo`}</inlineCode>{` object in the `}<inlineCode parentName=\"p\">{`Context`}</inlineCode>{` of the request. This means your server will need a way to determine the location of each end user. For example, your server may perform an IP-to-Geo lookup, using a service you configure. Some hosting providers, such as Google Cloud, provide this functionality via custom headers in each `}<inlineCode parentName=\"p\">{`HttpServletRequest`}</inlineCode>{`.`}</p>\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"js, java\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"nodejs\"\n    }}>{`Node.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const CONFIG = {\n    client: \"acmeclient\",\n    organizationId: \"1234567890@AdobeOrg\",\n    decisioningMethod: \"on-device\"\n};\n\nconst targetClient = TargetClient.create(CONFIG);\n\ntargetClient.getOffers({\n    request: {\n        context: {\n            geo: {\n                city: \"SAN FRANCISCO\",\n                countryCode: \"US\",\n                stateCode: \"CA\",\n                latitude: 37.75,\n                longitude: -122.4\n            }\n        },\n        execute: {\n            pageLoad: {}\n        }\n    }\n})\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"java\"\n    }}>{`Java`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class TargetRequestUtils {\n\n    public static Context getContext(HttpServletRequest request) {\n        Context context = new Context()\n            .geo(ipToGeoLookup(request.getRemoteAddr()))\n            .channel(ChannelType.WEB)\n            .timeOffsetInMinutes(330.0)\n            .address(getAddress(request));\n        return context;\n    }\n\n    public static Geo ipToGeoLookup(String ip) {\n        GeoResult geoResult = geoLookupService.lookup(ip);\n        return new Geo()\n            .city(geoResult.getCity())\n            .stateCode(geoResult.getStateCode())\n            .countryCode(geoResult.getCountryCode());\n    }\n}\n`}</code></pre>\n    <p>{`However, if you do not have the ability to perform IP-to-Geo lookups on your server, but you still want to perform on-device decisioning for `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{` requests that contain geo-based audiences, this is also supported. The downside of this approach is that it will use a remote IP-to-Geo lookup, which will add latency to each `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{` call. This latency should be lower than a remote `}<inlineCode parentName=\"p\">{`getOffers`}</inlineCode>{` call, since it hits a CDN that is located close to your server. You must `}<strong parentName=\"p\">{`only`}</strong>{` provide the `}<inlineCode parentName=\"p\">{`ipAddress`}</inlineCode>{` field in the `}<inlineCode parentName=\"p\">{`Geo`}</inlineCode>{` object in the `}<inlineCode parentName=\"p\">{`Context`}</inlineCode>{` of your request, in order for the SDK to retrieve the geo-location of your user's IP address. If any other field in addition to the `}<inlineCode parentName=\"p\">{`ipAddress`}</inlineCode>{` is provided, the Target SDK will not fetch the geo-location metadata for resolution.`}</p>\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"js, java\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"nodejs-1\"\n    }}>{`Node.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const CONFIG = {\n    client: \"acmeclient\",\n    organizationId: \"1234567890@AdobeOrg\",\n    decisioningMethod: \"on-device\"\n};\n\nconst targetClient = TargetClient.create(CONFIG);\n\ntargetClient.getOffers({\n    request: {\n        context: {\n            geo: {\n                ipAddress: \"127.0.0.1\"\n            }\n        },\n        execute: {\n            pageLoad: {}\n        }\n    }\n})\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"java-1\"\n    }}>{`Java`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class TargetRequestUtils {\n\n    public static Context getContext(HttpServletRequest request) {\n        Context context = new Context()\n            .geo(new Geo().ipAddress(request.getRemoteAddr()))\n            .channel(ChannelType.WEB)\n            .timeOffsetInMinutes(330.0)\n            .address(getAddress(request));\n        return context;\n    }\n\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"server-side-decisioning\"\n    }}>{`Server-side decisioning`}</h2>\n    <p>{`The following table indicates which audience rules are supported or not supported for server-side decisioning.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Audience Rule`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Server-side Decisioning`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/geo.html\"\n            }}>{`Geo`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/network.html\"\n            }}>{`Network`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/mobile.html\"\n            }}>{`Mobile`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/custom-parameters.html\"\n            }}>{`Custom Parameters`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/operating-system.html\"\n            }}>{`Operating System`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/site-pages.html\"\n            }}>{`Site Pages`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/browser.html\"\n            }}>{`Browser`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/visitor-profile.html\"\n            }}>{`Visitor Profile`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/traffic-sources.html\"\n            }}>{`Traffic Sources`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/time-frame.html\"\n            }}>{`Time Frame`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://experienceleague.adobe.com/docs/target/using/integrate/mmp.html\"\n            }}>{`Experience Cloud Audiences`}</a>{` (Audiences from Adobe Audience Manager, Adobe Analytics, and Adobe Experience Manager`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}